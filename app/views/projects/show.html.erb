<h1><%= @project.text %> - Gantt Chart</h1>

<% content_for :head do %>
  <%= stylesheet_link_tag 'https://cdn.dhtmlx.com/gantt/edge/dhtmlxgantt.css' %>
  <%= javascript_include_tag 'https://cdn.dhtmlx.com/gantt/edge/dhtmlxgantt.js' %>
<% end %>

<div id="gantt_here" style="width:100%; height:600px;"></div>

<script>
    gantt.config.date_format = "%Y-%m-%d %H:%i:%s";

    gantt.init("gantt_here");
    gantt.load("/api/projects/<%= @project.id %>/data");

    var dp = new gantt.dataProcessor("/api/projects/<%= @project.id %>");
    dp.init(gantt);
    dp.setTransactionMode("REST");
</script>